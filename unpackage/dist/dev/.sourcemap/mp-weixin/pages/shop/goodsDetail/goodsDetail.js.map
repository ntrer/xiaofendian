{"version":3,"sources":["uni-app:///main.js","webpack:///D:/HbuilderProject/b端小程序/pages/shop/goodsDetail/goodsDetail.vue?39b4","webpack:///D:/HbuilderProject/b端小程序/pages/shop/goodsDetail/goodsDetail.vue?6d2e","webpack:///D:/HbuilderProject/b端小程序/pages/shop/goodsDetail/goodsDetail.vue?bf54","webpack:///D:/HbuilderProject/b端小程序/pages/shop/goodsDetail/goodsDetail.vue?2160","uni-app:///pages/shop/goodsDetail/goodsDetail.vue"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,oH;AACAA,UAAU,CAACC,oBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAwH;AACxH;AAC+D;AACL;;;AAG1D;AACoM;AACpM,gBAAgB,2MAAU;AAC1B,EAAE,iFAAM;AACR,EAAE,sFAAM;AACR,EAAE,+FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,0FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,mNAEN;AACL,GAAG;AACH;AACA,WAAW,6MAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACnBA;AAAA;AAAA;AAAA;AAA6wB,CAAgB,2wBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2EjyB;AACA;AACA,oF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAHA;eAMA,EACA,IADA,kBACA,CACA,SACA,cACA,uBADA,EADA,EAIA,cAJA,EAKA,cALA,EAMA,oBANA,EAQA,YARA,GAWA,CAbA,EAeA,MAfA,kBAeA,IAfA,EAeA,CACA,gBACA,iCACA,kBACA,uCACA,cACA,kBADA,EAEA,8BAFA,EAGA,kBAHA,GAKA,kCAEA,CACA,CAGA,CA/BA,EAiCA,WAEA,mCACA,oBACA,CAJA,EAMA,UANA,wBAMA,CACA,mBACA,QADA,IAGA,CAVA,EAYA,UAZA,sBAYA,KAZA,EAYA,CACA,iBACA,aACA,OADA,EAEA,cAFA,EAGA,QAHA,GAKA,iCACA,CAPA,MAQA,CACA,qBACA,CAIA,CA3BA,EA6BA,aA7BA,2BA6BA,kBAEA,kBACA,QADA,EACA;AACA,wCACA,+BAEA,oDACA,aACA,OADA;AAEA,8CAFA;AAGA,sBAHA;;AAKA;AACA;;;AAGA,SAfA;AAgBA;AACA;AACA,SAlBA;;AAoBA,KAnDA;;AAqDA,qBArDA,6BAqDA,KArDA,EAqDA;AACA;AACA;AACA,KAxDA;;;;AA4DA,cA5DA,wBA4DA;;AAEA;AACA,+CADA;;;AAIA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAFA;;;AAKA,OAtBA,EAsBA,KAtBA,CAsBA;;AAEA;AACA;AACA,OA1BA;;AA4BA,KA/FA,EAjCA,E","file":"pages/shop/goodsDetail/goodsDetail.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/shop/goodsDetail/goodsDetail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./goodsDetail.vue?vue&type=template&id=352a5742&\"\nvar renderjs\nimport script from \"./goodsDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./goodsDetail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX.2.3.3.20190923.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/shop/goodsDetail/goodsDetail.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX.2.3.3.20190923.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX.2.3.3.20190923.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../HBuilderX.2.3.3.20190923.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX.2.3.3.20190923.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX.2.3.3.20190923.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.2.3.3.20190923.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goodsDetail.vue?vue&type=template&id=352a5742&\"","var components = {\n  uNavbar: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-navbar/u-navbar\" */ \"@/uview-ui/components/u-navbar/u-navbar.vue\"\n    )\n  },\n  uModal: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-modal/u-modal\" */ \"@/uview-ui/components/u-modal/u-modal.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX.2.3.3.20190923.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX.2.3.3.20190923.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX.2.3.3.20190923.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX.2.3.3.20190923.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.2.3.3.20190923.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goodsDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX.2.3.3.20190923.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX.2.3.3.20190923.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX.2.3.3.20190923.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX.2.3.3.20190923.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.2.3.3.20190923.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goodsDetail.vue?vue&type=script&lang=js&\"","<template>\n\t<view >\n\t\t<u-navbar title=\"商品详情\" :background=\"background\" title-color=\"#000\" :isBack=\"true\" :custom-back=\"backToSave\"></u-navbar>\r\n\t\t\r\n\t\t<view class=\" bg-white pb-2 pt-2 mt-2\">\r\n\t\t\t\r\n\t\t\t<view class=\"\" v-for=\"(item,index) in goodsDetailsJson\" :key=\"index\">\r\n\t\t\t\t<!-- 文字 -->\r\n\t\t\t\t<view  v-if=\"item.type==1\" class=\"pl-2 ml-2 mr-2 mt-2\" style=\"height: 280rpx;border-radius: 2px;border: 1px solid #C3C3C3;\">\r\n\t\t\t\t\t<view class=\"flex  justify-between\">\r\n\t\t\t\t\t\t<textarea  placeholder=\"请输入活动描述，不超过1000个字…\" placeholder-style=\"color:#C3C3C3\"  style=\"width: 80%\" class=\"p-1\"  v-model=\"item.text\"/>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<view class=\" flex flex-column justify-between pb-2 pr-2 align-end\">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<view class=\"rounded-circle flex  align-center justify-center mt-1\" style=\"background-color: #FF7200;float: right;width: 36rpx;height: 36rpx;\" @click=\"deleteTextOrImage(index)\">\r\n\t\t\t\t\t\t\t\t<text class=\"text-center font-bold\" style=\"color: #FFFFFF;font-size: 24upx;\">一</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<view class=\"\" style=\"color: #8A8A8A;font-size: 24upx;\">\r\n\t\t\t\t\t\t\t\t<text>{{item.text.length}}/1000</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<!-- 图片 -->\r\n\t\t\t\t<view v-if=\"item.type==2\" class=\"ml-2 mr-2 mt-2\">\r\n\t\t\t\t\t<view class=\"rounded-circle flex  align-center justify-center mt-1\" style=\"background-color: #FF7200;float: right;width: 36rpx;height: 36rpx;position: absolute;right: 40rpx;\" @click=\"deleteTextOrImage(index)\">\r\n\t\t\t\t\t\t<text class=\"text-center font-bold\" style=\"color: #FFFFFF;font-size: 24upx;\">一</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<image :src=\"item.pictureUrl\" style=\"width: 100%;\" mode=\"widthFix\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t</view>\r\n\t\t\r\n\t\t\r\n\t\t<view class=\"flex align-center  mt-3 mb-3\" style=\"margin-left: 120rpx;margin-right: 120rpx;\">\r\n\t\t\t<view class=\"flex-1 mr-2 flex align-center justify-center text-color\" style=\"border-radius: 36rpx;border: #1D1200 solid 1rpx;height: 72rpx;\"\r\n\t\t\t @click=\"addContent(1)\">\r\n\t\t\t\t添加文案\r\n\t\t\t</view>\r\n\t\t\t<view class=\"flex-1 ml-2 flex align-center justify-center text-color\" style=\"border-radius: 36rpx;border: #1D1200 solid 1rpx;height: 72rpx;\" @click=\"addContent(2)\">\r\n\t\t\t\t添加图片\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t\r\n\t\t<view class=\"\" style=\"height: 100rpx;\"></view>\r\n\t\t\r\n\t\t<view class=\"flex align-center justify-center fixed-bottom\" style=\"background-color: #FF7200;height: 100rpx;font-size: 36rpx;color: #fff;\"\r\n\t\t @click=\"saveDetail()\">\r\n\t\t\t 确认 \t\t\r\n\t\t</view>\r\n\t\t\r\n\t\t<u-modal v-model=\"showPop\" :title-style=\"{color: '#000',fontSize:'50upx',fontWeight:'600'}\" title=\"温馨提示\"\r\n\t\t :show-confirm-button=\"true\" :show-cancel-button=\"true\" :confirm-style=\"{backgroundColor:'#FF7200',color: '#fff'}\"\r\n\t\t @confirm=\"quitDetail()\">\r\n\t\t\t<view class=\"flex  flex-column pl-3 pr-3 text-color mt-2 align-center justify-center\" style=\"height: 140rpx;\">\r\n\t\t\t\t<text>你有未保存的内容，确认退出吗?</text>\t\r\n\t\t\t</view>\r\n\t\t</u-modal>\r\n\t\t\n\t</view>\n</template>\n\r\n\n<script>\r\n\t\r\n\t//引入网络请求\r\n\timport $H from '@/common/request.js';\r\n\timport $C from '@/common/config.js';\r\n\timport $U from '@/common/util.js';\r\n\t\r\n\t\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tbackground: {\r\n\t\t\t\t\tbackgroundColor: '#fff',\r\n\t\t\t\t},\r\n\t\t\t\twordslength:0,\r\n\t\t\t\tshowPop:false,\r\n\t\t\t\tgoodsDetailsJson:[\r\n\t\t\t\t],\r\n\t\t\t\tdetailId:[]\r\n\t\t\t\t\n\t\t\t}\n\t\t},\r\n\t\t\r\n\t\tonLoad(data) {\r\n\t\t\tif(data.list){\r\n\t\t\t\tlet list=JSON.parse(data.list)\r\n\t\t\t\tconsole.log(list)\r\n\t\t\t\tfor (var i = 0; i < list.length; i++) {\r\n\t\t\t\t\tlet data={\r\n\t\t\t\t\t\ttype:list[i].type,\r\n\t\t\t\t\t\tpictureUrl:list[i].pictureUrl,\r\n\t\t\t\t\t\ttext:list[i].text\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.goodsDetailsJson.push(data)\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t},\r\n\t\t\n\t\tmethods: {\n\t\t\t\r\n\t\t\tbackToSave:function(){\r\n\t\t\t\tthis.showPop=true\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tquitDetail(){\r\n\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\tdelta:1\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\taddContent(index){\r\n\t\t\t\tif(index==1){\r\n\t\t\t\t\tlet data={\r\n\t\t\t\t\t\ttype:1,\r\n\t\t\t\t\t\tpictureUrl:\"\",\r\n\t\t\t\t\t\ttext:\"\"\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.goodsDetailsJson.push(data)\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tthis.toChooseImage()\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\ttoChooseImage(){\r\n\t\t\t\t\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t   count: 9, //默认9\r\n\t\t\t\t   success: (res) => {\r\n\t\t\t\t   \tconsole.log(res.tempFilePaths);\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (var i = 0; i < res.tempFilePaths.length; i++) {\r\n\t\t\t\t\t\tlet data={\r\n\t\t\t\t\t\t\ttype:2,\r\n\t\t\t\t\t\t\tpictureUrl:res.tempFilePaths[i],\r\n\t\t\t\t\t\t\ttext:\"\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.goodsDetailsJson.push(data)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t   },\r\n\t\t\t\t   fail: (err) => {\r\n\t\t\t\t   \tconsole.log(err)\r\n\t\t\t\t   }\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tdeleteTextOrImage(index){\r\n\t\t\t\tthis.goodsDetailsJson.splice(index, 1);\r\n\t\t\t\tconsole.log(this.types)\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tsaveDetail(){\r\n\t\t\t\t\r\n\t\t\t\tlet data={\r\n\t\t\t\t\tgoodsDetailsJson:this.goodsDetailsJson\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// 发送到服务端\r\n\t\t\t\t$H.get(\"/goods_details\",data).then((res) => {\r\n\t\t\t\t\t//请求成功\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t    \r\n\t\t\t\t\tfor (var i = 0; i < res.data.length; i++) {\r\n\t\t\t\t\t\tthis.detailId.push(res.data[i].id)\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t    // 获取当前页面栈\r\n\t\t\t\t    let pages = getCurrentPages()\r\n\t\t\t\t    // pages数组中的最后一个为当前页面，倒数第二个为上一个页面\r\n\t\t\t\t    let prevPage = pages[pages.length - 2]\r\n\t\t\t\t    \r\n\t\t\t\t    // 重点来了\r\n\t\t\t\t    // 调用$vm 注册一个自定义方法 将参数传入进去\r\n\t\t\t\t    prevPage.onShow(this.detailId)\r\n\t\t\t\t    // 然后调用navigateBack返回页面\r\n\t\t\t\t    uni.navigateBack({\r\n\t\t\t\t      \t// 这个属性表示返回1个页面\r\n\t\t\t\t      \tdelta: 1\r\n\t\t\t\t    })\r\n\t\t\t\t\r\n\t\t\t\t}).catch((e) => {\r\n\t\t\t\t\r\n\t\t\t\t\t//请求失败\r\n\t\t\t\t\tconsole.log(\"失败\"+e)\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\n</style>\n"],"sourceRoot":""}